import { useLoaderData, useParams } from 'react-router-dom';
import AudioPlayer from '../../AudioPlayer';
import { useDispatch, useSelector } from 'react-redux';
import { selectPlaylistById, fetchPlaylist } from '../../../redux/playlists';
import { useEffect } from 'react';

const PlaylistDetails = () => {
  const dispatch = useDispatch();
  const { playlistId } = useParams();
  const playlist = useSelector(selectPlaylistById(playlistId));

  useEffect(() => {
    dispatch(fetchPlaylist(playlistId));
  }, [dispatch, playlistId]);

  return <>{playlist && <AudioPlayer list={playlist} />}</>;
};

export default PlaylistDetails;
